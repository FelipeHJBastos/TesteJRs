@{
    ViewBag.Title = "Home Page";
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>

<table>
    <tr>
        <td>
            <button type="button" class="btn btn-primary" id="insertBtn">Inserir Tarefa</button>
        </td>
        <td>
            <button type="button" class="btn btn-danger" id="deleteBtn">Excluir Tarefa</button>
        </td>
        <td>
            <button type="button" class="btn btn-success" id="concludeBtn">Marcar como concluída</button>
        </td>
    </tr>
</table>
<br />
<table class="table-bordered">
    <tr>
        <td>
            <a>TextTextTextText</a>
        </td>
    </tr>
</table>
<div class="modal fade" id="insertModal" tabindex="-1" aria-labelledby="ModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="ModalLabel">Nova Tarefa</h5>
            </div>
            <div class="modal-body" style="width: 100%">
                <div class="form-group flex-column">
                    <label for="textoAviso">Descrição da tarefa</label>
                    <div class="col-1">
                        <textarea class="form-control" id="descricaoTarefa" rows="5" placeholder="Digite uma tarefa" style="width: 100%"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="botaoCancelar" type="button" class="btn btn-secondary btn-default bootbox-cancel"
                        onclick="">
                    Cancelar
                </button>
                <button type="button" class="btn btn-primary bootbox-accept" id="salvar">Salvar</button>
            </div>
        </div>
    </div>
</div>

<script>
    $("#insertBtn").on("click", function () {
        $('#insertModal').modal('show');
    });

    $("#salvar").on("click", function () {
        debugger 
        var id = 2
        var descricaoTarefa = $('#descricaoTarefa').val()
        var dataInclusao = new Date()
        var dataConclusao = null

        $.ajax({
            type: "POST",
            url: window.location.origin + "/Home/IncluirTarefa",
            data: {
                id : id,
                descricaoTarefa : descricaoTarefa,
                dataInclusao : dateToDateTime(dataInclusao),
                dataConclusao : dataConclusao,
            },
            success: function (response) {},
            error: function (response) {
                alert("Falha ao incluir Tarefa!")
            }
        })
        $('#insertModal').modal('hidden');
    });

</script>
